sap.ui.define(["sap/ui/core/mvc/Controller","../model/formatter"],function(e,t){"use strict";return e.extend("com.sap.mybankdetails.controller.App",{formatter:t,onInit:function(){this._setGlobalModel();this._setGlobalLanguage();this.getUserProfile()},onOpenBankDetails:function(){if(!this.moreBankDetails){this.moreBankDetails=this.loadFragment({name:"com.sap.mybankdetails.view.fragments.MoreDetails"})}this.moreBankDetails.then(function(e){e.open()})},onCloseBankDetails:function(){this.byId("moreBankDetails").close()},getUserProfile:function(){let e=new sap.ui.model.json.JSONModel({profile:sap.ui.require.toUrl("com/sap/mybankdetails/images/profile.jpeg")});this.getView().setModel(e)},onSelectionChanged:function(e){let t=e.getParameter("segment"),n=t.getValue(),o=this.getOwnerComponent().getModel("oBankDetails").getProperty("/empsalary"),a=n/o*100;sap.m.MessageToast.show("The selection changed: "+t.getLabel()+" "+(a>50?"Critical":"Moderate"))},_setGlobalModel:function(){let e=this.getOwnerComponent().getModel("oBankDetails");this.getView().setModel(e)},_setGlobalLanguage:function(){var e,t;if(navigator.language=="es")e="i18n_es";else if(navigator.language=="en")e="i18n";else e="i18n";t=this.getOwnerComponent().getModel(e);this.getOwnerComponent().setModel(t,"i18n")}})});